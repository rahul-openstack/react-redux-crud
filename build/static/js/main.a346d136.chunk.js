(this["webpackJsonpreact-redux-crud"]=this["webpackJsonpreact-redux-crud"]||[]).push([[0],{45:function(t,e,n){},75:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(22),i=n.n(a),c=n(11),s=n(12),l=n(16),o=n(15),u=n(17),d=n(3),h=(n(44),n(45),n(4)),b=n(14),j=n(9),p=n.n(j),v=n(18),O="CREATE_TUTORIAL",f="RETRIEVE_TUTORIALS",m="UPDATE_TUTORIAL",T="DELETE_TUTORIAL",x="DELETE_ALL_TUTORIALS",g=n(36),y=n.n(g).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),k=new(function(){function t(){Object(c.a)(this,t)}return Object(s.a)(t,[{key:"getAll",value:function(){return y.get("/tutorials")}},{key:"get",value:function(t){return y.get("/tutorials/".concat(t))}},{key:"create",value:function(t){return y.post("/tutorials",t)}},{key:"update",value:function(t,e){return y.put("/tutorials/".concat(t),e)}},{key:"delete",value:function(t){return y.delete("/tutorials/".concat(t))}},{key:"deleteAll",value:function(){return y.delete("/tutorials")}},{key:"findByTitle",value:function(t){return y.get("/tutorials?title=".concat(t))}}]),t}()),C=n(1),N=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this,t)).onChangeTitle=r.onChangeTitle.bind(Object(h.a)(r)),r.onChangeDescription=r.onChangeDescription.bind(Object(h.a)(r)),r.saveTutorial=r.saveTutorial.bind(Object(h.a)(r)),r.newTutorial=r.newTutorial.bind(Object(h.a)(r)),r.state={id:null,title:"",description:"",published:!1,submitted:!1},r}return Object(s.a)(n,[{key:"onChangeTitle",value:function(t){this.setState({title:t.target.value})}},{key:"onChangeDescription",value:function(t){this.setState({description:t.target.value})}},{key:"saveTutorial",value:function(){var t=this,e=this.state,n=e.title,r=e.description;this.props.createTutorial(n,r).then((function(e){t.setState({id:e.id,title:e.title,description:e.description,published:e.published,submitted:!0}),console.log(e)})).catch((function(t){console.log(t)}))}},{key:"newTutorial",value:function(){this.setState({id:null,title:"",description:"",published:!1,submitted:!1})}},{key:"render",value:function(){return Object(C.jsx)("div",{className:"submit-form",children:this.state.submitted?Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:"You submitted successfully!"}),Object(C.jsx)("button",{className:"btn btn-success",onClick:this.newTutorial,children:"Add"})]}):Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"title",children:"Title"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:this.state.title,onChange:this.onChangeTitle,name:"title"})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"description",children:"Description"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:this.state.description,onChange:this.onChangeDescription,name:"description"})]}),Object(C.jsx)("button",{onClick:this.saveTutorial,className:"btn btn-success",children:"Submit"})]})})}}]),n}(r.Component),S=Object(b.b)(null,{createTutorial:function(t,e){return function(){var n=Object(v.a)(p.a.mark((function n(r){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.create({title:t,description:e});case 3:return a=n.sent,r({type:O,payload:a.data}),n.abrupt("return",Promise.resolve(a.data));case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()}})(N),w=n(13),A=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this,t)).onChangeTitle=r.onChangeTitle.bind(Object(h.a)(r)),r.onChangeDescription=r.onChangeDescription.bind(Object(h.a)(r)),r.getTutorial=r.getTutorial.bind(Object(h.a)(r)),r.updateStatus=r.updateStatus.bind(Object(h.a)(r)),r.updateContent=r.updateContent.bind(Object(h.a)(r)),r.removeTutorial=r.removeTutorial.bind(Object(h.a)(r)),r.state={currentTutorial:{id:null,title:"",description:"",published:!1},message:""},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.getTutorial(this.props.match.params.id)}},{key:"onChangeTitle",value:function(t){var e=t.target.value;this.setState((function(t){return{currentTutorial:Object(w.a)(Object(w.a)({},t.currentTutorial),{},{title:e})}}))}},{key:"onChangeDescription",value:function(t){var e=t.target.value;this.setState((function(t){return{currentTutorial:Object(w.a)(Object(w.a)({},t.currentTutorial),{},{description:e})}}))}},{key:"getTutorial",value:function(t){var e=this;k.get(t).then((function(t){e.setState({currentTutorial:t.data}),console.log(t.data)})).catch((function(t){console.log(t)}))}},{key:"updateStatus",value:function(t){var e=this,n={id:this.state.currentTutorial.id,title:this.state.currentTutorial.title,description:this.state.currentTutorial.description,published:t};this.props.updateTutorial(this.state.currentTutorial.id,n).then((function(n){console.log(n),e.setState((function(e){return{currentTutorial:Object(w.a)(Object(w.a)({},e.currentTutorial),{},{published:t})}})),e.setState({message:"The status was updated successfully!"})})).catch((function(t){console.log(t)}))}},{key:"updateContent",value:function(){var t=this;this.props.updateTutorial(this.state.currentTutorial.id,this.state.currentTutorial).then((function(e){console.log(e),t.setState({message:"The tutorial was updated successfully!"})})).catch((function(t){console.log(t)}))}},{key:"removeTutorial",value:function(){var t=this;this.props.deleteTutorial(this.state.currentTutorial.id).then((function(){t.props.history.push("/tutorials")})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){var t=this,e=this.state.currentTutorial;return Object(C.jsx)("div",{children:e?Object(C.jsxs)("div",{className:"edit-form",children:[Object(C.jsx)("h4",{children:"Tutorial"}),Object(C.jsxs)("form",{children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"title",children:"Title"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"title",value:e.title,onChange:this.onChangeTitle})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"description",children:"Description"}),Object(C.jsx)("input",{type:"text",className:"form-control",id:"description",value:e.description,onChange:this.onChangeDescription})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{children:Object(C.jsx)("strong",{children:"Status:"})}),e.published?"Published":"Pending"]})]}),e.published?Object(C.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updateStatus(!1)},children:"UnPublish"}):Object(C.jsx)("button",{className:"badge badge-primary mr-2",onClick:function(){return t.updateStatus(!0)},children:"Publish"}),Object(C.jsx)("button",{className:"badge badge-danger mr-2",onClick:this.removeTutorial,children:"Delete"}),Object(C.jsx)("button",{type:"submit",className:"badge badge-success",onClick:this.updateContent,children:"Update"}),Object(C.jsx)("p",{children:this.state.message})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Please click on a Tutorial..."})]})})}}]),n}(r.Component),D=Object(b.b)(null,{updateTutorial:function(t,e){return function(){var n=Object(v.a)(p.a.mark((function n(r){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.update(t,e);case 3:return a=n.sent,r({type:m,payload:e}),n.abrupt("return",Promise.resolve(a.data));case 8:return n.prev=8,n.t0=n.catch(0),n.abrupt("return",Promise.reject(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()},deleteTutorial:function(t){return function(){var e=Object(v.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.delete(t);case 3:n({type:T,payload:{id:t}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})(A),P=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(c.a)(this,n),(r=e.call(this,t)).onChangeSearchTitle=r.onChangeSearchTitle.bind(Object(h.a)(r)),r.refreshData=r.refreshData.bind(Object(h.a)(r)),r.setActiveTutorial=r.setActiveTutorial.bind(Object(h.a)(r)),r.findByTitle=r.findByTitle.bind(Object(h.a)(r)),r.removeAllTutorials=r.removeAllTutorials.bind(Object(h.a)(r)),r.state={currentTutorial:null,currentIndex:-1,searchTitle:""},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.retrieveTutorials()}},{key:"onChangeSearchTitle",value:function(t){var e=t.target.value;this.setState({searchTitle:e})}},{key:"refreshData",value:function(){this.setState({currentTutorial:null,currentIndex:-1})}},{key:"setActiveTutorial",value:function(t,e){this.setState({currentTutorial:t,currentIndex:e})}},{key:"removeAllTutorials",value:function(){var t=this;this.props.deleteAllTutorials().then((function(e){console.log(e),t.refreshData()})).catch((function(t){console.log(t)}))}},{key:"findByTitle",value:function(){this.refreshData(),this.props.findTutorialsByTitle(this.state.searchTitle)}},{key:"render",value:function(){var t=this,e=this.state,n=e.searchTitle,r=e.currentTutorial,a=e.currentIndex,i=this.props.tutorials;return Object(C.jsxs)("div",{className:"list row",children:[Object(C.jsx)("div",{className:"col-md-8",children:Object(C.jsxs)("div",{className:"input-group mb-3",children:[Object(C.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:n,onChange:this.onChangeSearchTitle}),Object(C.jsx)("div",{className:"input-group-append",children:Object(C.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.findByTitle,children:"Search"})})]})}),Object(C.jsxs)("div",{className:"col-md-6",children:[Object(C.jsx)("h4",{children:"Tutorials List"}),Object(C.jsx)("ul",{className:"list-group",children:i&&i.map((function(e,n){return Object(C.jsx)("li",{className:"list-group-item "+(n===a?"active":""),onClick:function(){return t.setActiveTutorial(e,n)},children:e.title},n)}))}),Object(C.jsx)("button",{className:"m-3 btn btn-sm btn-danger",onClick:this.removeAllTutorials,children:"Remove All"})]}),Object(C.jsx)("div",{className:"col-md-6",children:r?Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:"Tutorial"}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:Object(C.jsx)("strong",{children:"Title:"})})," ",r.title]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:Object(C.jsx)("strong",{children:"Description:"})})," ",r.description]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:Object(C.jsx)("strong",{children:"Status:"})})," ",r.published?"Published":"Pending"]}),Object(C.jsx)(u.b,{to:"/tutorials/"+r.id,className:"badge badge-warning",children:"Edit"})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsx)("p",{children:"Please click on a Tutorial..."})]})})]})}}]),n}(r.Component),E=Object(b.b)((function(t){return{tutorials:t.tutorials}}),{retrieveTutorials:function(){return function(){var t=Object(v.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.getAll();case 3:n=t.sent,e({type:f,payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},findTutorialsByTitle:function(t){return function(){var e=Object(v.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.findByTitle(t);case 3:r=e.sent,n({type:f,payload:r.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},deleteAllTutorials:function(){return function(){var t=Object(v.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.deleteAll();case 3:return n=t.sent,e({type:x,payload:n.data}),t.abrupt("return",Promise.resolve(n.data));case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(P),L=function(t){Object(l.a)(n,t);var e=Object(o.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(u.a,{children:[Object(C.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(C.jsx)(u.b,{to:"/tutorials",className:"navbar-brand",children:"bezKoder"}),Object(C.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(u.b,{to:"/tutorials",className:"nav-link",children:"Tutorials"})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(u.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(C.jsx)("div",{className:"container mt-3",children:Object(C.jsxs)(d.c,{children:[Object(C.jsx)(d.a,{exact:!0,path:["/","/tutorials"],component:E}),Object(C.jsx)(d.a,{exact:!0,path:"/add",component:S}),Object(C.jsx)(d.a,{path:"/tutorials/:id",component:D})]})})]})}}]),n}(r.Component),I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),r(t),a(t),i(t),c(t)}))},R=n(20),B=n(37),U=n(38),F=n(39),_=[];var M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case O:return[].concat(Object(F.a)(t),[r]);case f:return r;case m:return t.map((function(t){return t.id===r.id?Object(w.a)(Object(w.a)({},t),r):t}));case T:return t.filter((function(t){return t.id!==r.id}));case x:return[];default:return t}},q=Object(R.combineReducers)({tutorials:M}),J=[U.a],z=Object(R.createStore)(q,{},Object(B.composeWithDevTools)(R.applyMiddleware.apply(void 0,J)));i.a.render(Object(C.jsx)(b.a,{store:z,children:Object(C.jsx)(L,{})}),document.getElementById("root")),I()}},[[75,1,2]]]);
//# sourceMappingURL=main.a346d136.chunk.js.map