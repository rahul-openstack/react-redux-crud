{"ast":null,"code":"import _objectSpread from\"D:/github/react-redux-crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:/github/react-redux-crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/github/react-redux-crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/github/react-redux-crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/github/react-redux-crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/github/react-redux-crud/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{updateTutorial,deleteTutorial}from\"../actions/tutorials\";import TutorialDataService from\"../services/tutorial.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Tutorial=/*#__PURE__*/function(_Component){_inherits(Tutorial,_Component);var _super=_createSuper(Tutorial);function Tutorial(props){var _this;_classCallCheck(this,Tutorial);_this=_super.call(this,props);_this.onChangeTitle=_this.onChangeTitle.bind(_assertThisInitialized(_this));_this.onChangeDescription=_this.onChangeDescription.bind(_assertThisInitialized(_this));_this.getTutorial=_this.getTutorial.bind(_assertThisInitialized(_this));_this.updateStatus=_this.updateStatus.bind(_assertThisInitialized(_this));_this.updateContent=_this.updateContent.bind(_assertThisInitialized(_this));_this.removeTutorial=_this.removeTutorial.bind(_assertThisInitialized(_this));_this.state={currentTutorial:{id:null,title:\"\",description:\"\",published:false},message:\"\"};return _this;}_createClass(Tutorial,[{key:\"componentDidMount\",value:function componentDidMount(){this.getTutorial(this.props.match.params.id);}},{key:\"onChangeTitle\",value:function onChangeTitle(e){var title=e.target.value;this.setState(function(prevState){return{currentTutorial:_objectSpread(_objectSpread({},prevState.currentTutorial),{},{title:title})};});}},{key:\"onChangeDescription\",value:function onChangeDescription(e){var description=e.target.value;this.setState(function(prevState){return{currentTutorial:_objectSpread(_objectSpread({},prevState.currentTutorial),{},{description:description})};});}},{key:\"getTutorial\",value:function getTutorial(id){var _this2=this;TutorialDataService.get(id).then(function(response){_this2.setState({currentTutorial:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"updateStatus\",value:function updateStatus(status){var _this3=this;var data={id:this.state.currentTutorial.id,title:this.state.currentTutorial.title,description:this.state.currentTutorial.description,published:status};this.props.updateTutorial(this.state.currentTutorial.id,data).then(function(reponse){console.log(reponse);_this3.setState(function(prevState){return{currentTutorial:_objectSpread(_objectSpread({},prevState.currentTutorial),{},{published:status})};});_this3.setState({message:\"The status was updated successfully!\"});}).catch(function(e){console.log(e);});}},{key:\"updateContent\",value:function updateContent(){var _this4=this;this.props.updateTutorial(this.state.currentTutorial.id,this.state.currentTutorial).then(function(reponse){console.log(reponse);_this4.setState({message:\"The tutorial was updated successfully!\"});}).catch(function(e){console.log(e);});}},{key:\"removeTutorial\",value:function removeTutorial(){var _this5=this;this.props.deleteTutorial(this.state.currentTutorial.id).then(function(){_this5.props.history.push(\"/tutorials\");}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var _this6=this;var currentTutorial=this.state.currentTutorial;return/*#__PURE__*/_jsx(\"div\",{children:currentTutorial?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Tutorial\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",value:currentTutorial.title,onChange:this.onChangeTitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",value:currentTutorial.description,onChange:this.onChangeDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"})}),currentTutorial.published?\"Published\":\"Pending\"]})]}),currentTutorial.published?/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-primary mr-2\",onClick:function onClick(){return _this6.updateStatus(false);},children:\"UnPublish\"}):/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-primary mr-2\",onClick:function onClick(){return _this6.updateStatus(true);},children:\"Publish\"}),/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-danger mr-2\",onClick:this.removeTutorial,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"badge badge-success\",onClick:this.updateContent,children:\"Update\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.message})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a Tutorial...\"})]})});}}]);return Tutorial;}(Component);export default connect(null,{updateTutorial:updateTutorial,deleteTutorial:deleteTutorial})(Tutorial);","map":{"version":3,"sources":["D:/github/react-redux-crud/src/components/tutorial.component.js"],"names":["React","Component","connect","updateTutorial","deleteTutorial","TutorialDataService","Tutorial","props","onChangeTitle","bind","onChangeDescription","getTutorial","updateStatus","updateContent","removeTutorial","state","currentTutorial","id","title","description","published","message","match","params","e","target","value","setState","prevState","get","then","response","data","console","log","catch","status","reponse","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { updateTutorial, deleteTutorial } from \"../actions/tutorials\";\nimport TutorialDataService from \"../services/tutorial.service\";\n\nclass Tutorial extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.getTutorial = this.getTutorial.bind(this);\n    this.updateStatus = this.updateStatus.bind(this);\n    this.updateContent = this.updateContent.bind(this);\n    this.removeTutorial = this.removeTutorial.bind(this);\n\n    this.state = {\n      currentTutorial: {\n        id: null,\n        title: \"\",\n        description: \"\",\n        published: false,\n      },\n      message: \"\",\n    };\n  }\n\n  componentDidMount() {\n    this.getTutorial(this.props.match.params.id);\n  }\n\n  onChangeTitle(e) {\n    const title = e.target.value;\n\n    this.setState(function (prevState) {\n      return {\n        currentTutorial: {\n          ...prevState.currentTutorial,\n          title: title,\n        },\n      };\n    });\n  }\n\n  onChangeDescription(e) {\n    const description = e.target.value;\n\n    this.setState((prevState) => ({\n      currentTutorial: {\n        ...prevState.currentTutorial,\n        description: description,\n      },\n    }));\n  }\n\n  getTutorial(id) {\n    TutorialDataService.get(id)\n      .then((response) => {\n        this.setState({\n          currentTutorial: response.data,\n        });\n        console.log(response.data);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  updateStatus(status) {\n    var data = {\n      id: this.state.currentTutorial.id,\n      title: this.state.currentTutorial.title,\n      description: this.state.currentTutorial.description,\n      published: status,\n    };\n\n    this.props\n      .updateTutorial(this.state.currentTutorial.id, data)\n      .then((reponse) => {\n        console.log(reponse);\n\n        this.setState((prevState) => ({\n          currentTutorial: {\n            ...prevState.currentTutorial,\n            published: status,\n          },\n        }));\n\n        this.setState({ message: \"The status was updated successfully!\" });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  updateContent() {\n    this.props\n      .updateTutorial(this.state.currentTutorial.id, this.state.currentTutorial)\n      .then((reponse) => {\n        console.log(reponse);\n        \n        this.setState({ message: \"The tutorial was updated successfully!\" });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  removeTutorial() {\n    this.props\n      .deleteTutorial(this.state.currentTutorial.id)\n      .then(() => {\n        this.props.history.push(\"/tutorials\");\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { currentTutorial } = this.state;\n\n    return (\n      <div>\n        {currentTutorial ? (\n          <div className=\"edit-form\">\n            <h4>Tutorial</h4>\n            <form>\n              <div className=\"form-group\">\n                <label htmlFor=\"title\">Title</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  value={currentTutorial.title}\n                  onChange={this.onChangeTitle}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"description\">Description</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"description\"\n                  value={currentTutorial.description}\n                  onChange={this.onChangeDescription}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>\n                  <strong>Status:</strong>\n                </label>\n                {currentTutorial.published ? \"Published\" : \"Pending\"}\n              </div>\n            </form>\n\n            {currentTutorial.published ? (\n              <button\n                className=\"badge badge-primary mr-2\"\n                onClick={() => this.updateStatus(false)}\n              >\n                UnPublish\n              </button>\n            ) : (\n              <button\n                className=\"badge badge-primary mr-2\"\n                onClick={() => this.updateStatus(true)}\n              >\n                Publish\n              </button>\n            )}\n\n            <button\n              className=\"badge badge-danger mr-2\"\n              onClick={this.removeTutorial}\n            >\n              Delete\n            </button>\n\n            <button\n              type=\"submit\"\n              className=\"badge badge-success\"\n              onClick={this.updateContent}\n            >\n              Update\n            </button>\n            <p>{this.state.message}</p>\n          </div>\n        ) : (\n          <div>\n            <br />\n            <p>Please click on a Tutorial...</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default connect(null, { updateTutorial, deleteTutorial })(Tutorial);\n"]},"metadata":{},"sourceType":"module"}